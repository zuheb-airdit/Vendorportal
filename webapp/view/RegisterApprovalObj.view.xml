<mvc:View xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.uxap"
    xmlns:m="sap.m"
    xmlns:forms="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.ui.layout.form"
    xmlns:l="sap.ui.layout"
    xmlns:upload="sap.m.upload" controllerName="com.air.vp.lnchpage.controller.RequestObj" height="100%">
    <m:Page showHeader="false">
        <m:content>
            <ObjectPageLayout id="ObjectPageLayout" showTitleInHeaderContent="true" upperCaseAnchorBar="false">
                <headerTitle>
                    <ObjectPageDynamicHeaderTitle>
                        <expandedHeading>
                            <m:HBox>
                                <m:Button icon="sap-icon://nav-back" press="onNavBack" class="sapUiTinyMarginEnd sapUiTinyMarginBottom" />
                                <m:Title text="{requestInfo>/REQUEST_NO}" wrapping="true" id="idReqTitle" class="usermasterColo" />
                            </m:HBox>
                        </expandedHeading>
                        <expandedContent>
                            <m:HBox>
                                <m:Label text="Request Type :" class="sapUiTinyMarginEnd" />
                                <m:Text text="{requestInfo>/REQUEST_TYPE}" class="labelSize"/>
                                <!-- <m:Input value="{requestInfo>/REQUEST_TYPE}" visible="{requestInfo>/editable}" /> -->
                            </m:HBox>
                        </expandedContent>
                        <snappedHeading>
                            <m:HBox>
                                <m:VBox>
                                    <m:Title text="{requestInfo>/REQUEST_NO}" wrapping="true" class="usermasterColo" />
                                    <m:Label text="Request Type:" />
                                    <m:Text text="{requestInfo>/REQUEST_TYPE}" class="labelSize" />

                                </m:VBox>
                            </m:HBox>
                        </snappedHeading>

                        <actions>
                            <m:Button id="idEditBtn" text="Edit" type="Emphasized" visible="{requestInfo>/TO_HIERARCHY/ACCESS_EDIT}" press="onEditPress" />
                                                   </actions>
                    </ObjectPageDynamicHeaderTitle>
                </headerTitle>

                <headerContent>
                    <m:FlexBox wrap="Wrap" fitContainer="true">
                        <m:VBox class="sapUiLargeMarginEnd sapUiSmallMarginBottom">
                            <m:HBox class="sapUiTinyMarginBottom">
                                <m:Label text="Company:" class="sapUiSmallMarginEnd" />
                                <m:Text text="{requestInfo>/COMPANY_CODE}" class="labelSize"/>
                            </m:HBox>
                        </m:VBox>

                        <m:VBox class="sapUiLargeMarginEnd sapUiSmallMarginBottom">
                            <m:HBox class="sapUiTinyMarginBottom">
                                <m:Label text="Created By:" class="sapUiSmallMarginEnd" />
                                <m:Text text="{requestInfo>/REQUESTER_ID}" class="labelSize"/>

                            </m:HBox>
                        </m:VBox>

                        <m:VBox class="sapUiLargeMarginEnd sapUiSmallMarginBottom">
                            <m:HBox class="sapUiTinyMarginBottom">
                                <m:Label text="Created On:" class="sapUiSmallMarginEnd" />
                                <m:Text text="{path: 'requestInfo>/CREATED_ON', formatter: '.formatter.createdOnAndByFormatter'}"  class="labelSize"/>

                            </m:HBox>
                        </m:VBox>
                    </m:FlexBox>
                </headerContent>

                <sections>
                    <ObjectPageSection titleUppercase="false" title="General Information">
                        <subSections>
                            <ObjectPageSubSection title="Vendor Information" titleUppercase="false">
                                <blocks>
                                    <m:VBox class="sapUiSmallMargin">
                                     <m:HBox>

                                            <!-- First Group -->
                                            <m:Label text="Vendor Organisation Name :" width="11rem" />
                                            <m:Text text="{requestInfo>/VENDOR_ORGANISATION_NAME}"  width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/VENDOR_ORGANISATION_NAME}" width="13rem"  visible="{requestInfo>/editable}"  />
                                           <m:VBox width="2rem"/>
                                            <m:Label text="Contact Person :" width="10rem" />
                                            <m:Text text="{requestInfo>/CONTACT_PERSON}"  width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/CONTACT_PERSON}" width="13rem" visible="{requestInfo>/editable}" />
                                        </m:HBox>
                                        <m:VBox ></m:VBox>
                                        <m:HBox>
                                            <!-- Second Group -->
                                            <m:Label text="Priority :"  width="11rem"/>
                                            <m:Text text="{requestInfo>/PRIORITY}"  width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/PRIORITY}" width="13rem" visible="{requestInfo>/editable}" />
                                             <m:VBox width="2rem"/>
                                            <m:Label text="Due Diligence Number :" width="10rem"/>
                                            <m:Text text="{path: 'requestInfo>/DUE_DELI_NUM', formatter: '.formatDueDeliNum'}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{path: 'requestInfo>/DUE_DELI_NUM', formatter: '.formatDueDeliNum'}" width="13rem" visible="{requestInfo>/editable}" />
                                        </m:HBox>
                                        </m:VBox>
                                </blocks>
                            </ObjectPageSubSection>

                            <ObjectPageSubSection title="Vendor Address" titleUppercase="false">
                                <blocks>
                                    <m:VBox class="sapUiSmallMargin">
                                     <m:HBox>
                                            <m:Label text="Street:  " width="10rem" />
                                            <m:Text text="{requestInfo>/TO_ADDRESS/results/0/STREET1}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_ADDRESS/results/0/STREET1}"  width="13rem" visible="{requestInfo>/editable}" />
                                       <m:VBox width="2rem"/>
                                            <m:Label text="Street2:" width="10rem"/>
                                            <m:Text text="{requestInfo>/TO_ADDRESS/results/0/STREET2}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_ADDRESS/results/0/STREET2}" width="13rem"  visible="{requestInfo>/editable}" />
                                         </m:HBox>

                                            <!-- Second Row -->
                                         <m:HBox>
                                            <m:Label text="Street3:" width="10rem"/>
                                            <m:Text text="{requestInfo>/TO_ADDRESS/results/0/STREET3}"  width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_ADDRESS/results/0/STREET3}"  width="13rem" visible="{requestInfo>/editable}" />
                                         <m:VBox width="2rem"/>
                                            <m:Label text="City:" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_ADDRESS/results/0/CITY}" width="13rem"  visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_ADDRESS/results/0/CITY}" width="13rem" visible="{requestInfo>/editable}" />
                                             </m:HBox>

                                             <m:HBox>
                                            <m:Label text="District:" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_ADDRESS/results/0/DISTRICT}"  width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_ADDRESS/results/0/DISTRICT}"  width="13rem" visible="{requestInfo>/editable}" />
                                                <m:VBox width="2rem"/>
                                            <m:Label text="Pincode:" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_ADDRESS/results/0/PINCODE}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_ADDRESS/results/0/PINCODE}"  visible="{requestInfo>/editable}" />
                                              </m:HBox>
                                               <m:HBox>
                                            <m:Label text="State:" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_ADDRESS/results/0/STATE}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_ADDRESS/results/0/STATE}" width="13rem"  visible="{requestInfo>/editable}" />
                                             <m:VBox width="2rem"/>
                                            <m:Label text="Country:" width="10rem"/>
                                            <m:Text text="{requestInfo>/TO_ADDRESS/results/0/COUNTRY}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_ADDRESS/results/0/COUNTRY}" width="13rem" visible="{requestInfo>/editable}" />
                                             </m:HBox>
                                             <m:HBox>
                                            <m:Label text="Email:" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_ADDRESS/results/0/EMAIL}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_ADDRESS/results/0/EMAIL}" width="13rem" visible="{requestInfo>/editable}" />
                                               <m:VBox width="2rem"/>
                                            <m:Label text="Email(Payment):" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_ADDRESS/results/0/EMAIL_ADDRESS_FOR_PAYMENT}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_ADDRESS/results/0/EMAIL_ADDRESS_FOR_PAYMENT}" width="13rem" visible="{requestInfo>/editable}" />
                                             </m:HBox>
                                             <m:HBox>
                                            <m:Label text="Telephone No:" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_ADDRESS/results/0/CONTACT_TELECODE}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_ADDRESS/results/0/CONTACT_TELECODE}" width="13rem" visible="{requestInfo>/editable}" />
                                             <m:VBox width="2rem"/> 
                                            <m:Label text="Mobile Number:" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_ADDRESS/results/0/CONTACT_NO}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_ADDRESS/results/0/CONTACT_NO}" width="13rem" visible="{requestInfo>/editable}" />
                                        </m:HBox>
                                        </m:VBox>
                                        <!-- </f:content> -->
                                    <!-- </f:SimpleForm> -->
                                </blocks>
                            </ObjectPageSubSection>
                        </subSections>
                    </ObjectPageSection>

                    <ObjectPageSection titleUppercase="false" title="Financial Information">
                        <subSections>
                            <ObjectPageSubSection titleUppercase="false" title="Financial Information">
                                <blocks>
                                    <m:VBox class="sapUiSmallMargin">
                                        <!-- First Row -->
                                        <m:HBox>
                                            <m:Label text="Account Number:" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_BANKS/results/0/ACCOUNT_NO}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_BANKS/results/0/ACCOUNT_NO}" width="13rem" visible="{requestInfo>/editable}" />
                                            <m:VBox width="2rem"/>
                                            <m:Label text="IFSC Code:" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_BANKS/results/0/IFSC}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_BANKS/results/0/IFSC}" width="13rem" visible="{requestInfo>/editable}" />
                                        </m:HBox>

                                        <!-- Second Row -->
                                        <m:HBox>
                                            <m:Label text="Branch:" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_BANKS/results/0/BRANCH_NAME}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_BANKS/results/0/BRANCH_NAME}" width="13rem" visible="{requestInfo>/editable}" />
                                             <m:VBox width="2rem"/>
                                            <m:Label text="Bank Name:" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_BANKS/results/0/BANK_NAME}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_BANKS/results/0/BANK_NAME}" width="13rem" visible="{requestInfo>/editable}" />
                                        </m:HBox>

                                        <!-- Third Row -->
                                        <m:HBox>
                                            <m:Label text="Account Type:" width="10rem" />
                                            <m:Text text="{requestInfo>/TO_BANKS/results/0/ACCOUNT_TYPE}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/TO_BANKS/results/0/ACCOUNT_TYPE}" width="13rem" visible="{requestInfo>/editable}" />
                                            <m:VBox width="2rem"/>
                                            <m:Label text="LST No:" width="10rem" />
                                            <m:Text text="{requestInfo>/LST_NO}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/LST_NO}" width="13rem" visible="{requestInfo>/editable}" />
                                        </m:HBox>

                                        <!-- Fourth Row -->
                                        <m:HBox>
                                            <m:Label text="GST No:" width="10rem" />
                                            <m:Text text="{requestInfo>/GST_NO}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/GST_NO}" width="13rem" visible="{requestInfo>/editable}" />
                                             <m:VBox width="2rem"/>
                                            <m:Label text="PAN No:" width="10rem" />
                                            <m:Text text="{requestInfo>/PAN_NO}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/PAN_NO}" width="13rem" visible="{requestInfo>/editable}" />
                                        </m:HBox>

                                        <!-- Fifth Row -->
                                        <m:HBox>
                                            <m:Label text="MSME Category:" width="10rem" />
                                            <m:Text text="{requestInfo>/MSME_CATEGORY}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/MSME_CATEGORY}" width="13rem" visible="{requestInfo>/editable}" />
                                            <m:VBox width="2rem"/>
                                            <m:Label text="Vendor Account Group:" width="10rem" />
                                            <m:Text text="{requestInfo>/VENDOR_ACCOUNT_GROUP}" width="13rem" visible="{= !${requestInfo>/editable} }"/>
                                            <m:Input value="{requestInfo>/VENDOR_ACCOUNT_GROUP}" width="13rem" visible="{requestInfo>/editable}" />
                                        </m:HBox>
                                    </m:VBox>
                                </blocks>
                            </ObjectPageSubSection>
                        </subSections>
                    </ObjectPageSection>

                    <ObjectPageSection titleUppercase="false" title="Attachments" importance="Medium">
                        <subSections>
                            <ObjectPageSubSection title="Attachments" titleUppercase="false">
                                <blocks>
                                    <m:Table inset="false" items="{path:'requestInfo>/TO_ATTACHMENTS/results'}">
                                        <m:columns>
                                            <m:Column>
                                                <m:Text text="Name" />
                                            </m:Column>


                                            <m:Column>
                                                <m:Text text="Download" />
                                            </m:Column>
                                        </m:columns>
                                        <m:items>
                                            <m:ColumnListItem vAlign="Middle">
                                                <m:cells>
                                                    <m:Text text="{requestInfo>IMAGE_FILE_NAME}" />
                                                    <m:Button press="onPreviewAttachment" icon="sap-icon://download">
                                                        <m:customData>
                                                            <core:CustomData key="customData" value="{requestInfo>IMAGEURL}" writeToDom="false" />
                                                        </m:customData>
                                                    </m:Button>
                                                </m:cells>
                                            </m:ColumnListItem>
                                        </m:items>
                                    </m:Table>
                                </blocks>
                            </ObjectPageSubSection>
                        </subSections>
                    </ObjectPageSection>
                </sections>
            </ObjectPageLayout>
        </m:content>

        <m:footer>
            <m:OverflowToolbar id="otbFooter">
                <m:ToolbarSpacer />
                <m:Button id="idAcceptBtn" enabled="true" type="Accept" text="Accept" press="onSubmitRequestForm" visible="{requestInfo>/TO_HIERARCHY/ACCESS_APPROVE}">
                    <m:layoutData>
                        <m:OverflowToolbarLayoutData priority="NeverOverflow" />
                    </m:layoutData>
                </m:Button>
                <m:Button id="idRejectBtn" enabled="true" type="Reject" text="Reject" press="onRejectRegistration" visible="{requestInfo>/TO_HIERARCHY/ACCESS_REJECT}">
                    <m:layoutData>
                        <m:OverflowToolbarLayoutData priority="NeverOverflow" />
                    </m:layoutData>
                </m:Button>
                <m:Button id="idSendBackBtn" enabled="true" type="Reject" text="Send Back" press="onSendBackRegistration" visible="{requestInfo>/TO_HIERARCHY/ACCESS_SENDBACK}">
                    <m:layoutData>
                        <m:OverflowToolbarLayoutData priority="NeverOverflow" />
                    </m:layoutData>
                </m:Button>
                <m:Button id="idSubmitBtn" type="Attention" text="Submit" press="onSubmitEditRegistration" visible="false">
                    <m:layoutData>
                        <m:OverflowToolbarLayoutData priority="NeverOverflow" />
                    </m:layoutData>
                </m:Button>
            </m:OverflowToolbar>
        </m:footer>
    </m:Page>
</mvc:View>
